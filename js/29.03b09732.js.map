{"version":3,"file":"js/29.03b09732.js","mappings":"gQAEO,MAAMA,EAAcC,GAAUC,EAAAA,EAAQC,IAAI,mBAAoB,CAAEF,WAE1DG,EAAmBC,GAAMH,EAAAA,EAAQC,IAAI,kBAAmB,CAAEF,OAAQ,CAAEI,QAEpEC,EAAaD,GAAMH,EAAAA,EAAQK,KAAK,iBAAkB,CAC7DF,KACAG,QAAS,IAGEC,EAAgBJ,GAAMH,EAAAA,EAAQK,KAAK,iBAAkB,CAChEF,KACAG,QAAS,IAGEE,EAA2BT,GACtCC,EAAAA,EAAQC,IAAI,sBACV,CAAEF,U,oEClBN,IAAIU,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACG,MAAM,CAACC,OAAsB,gBAAfN,EAAIO,QAA0BC,MAAM,CAAC,KAAO,eAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,QAAQ,cAAc,IAAI,CAACX,EAAIY,GAAG,QAAQV,EAAG,IAAI,CAACG,MAAM,CAACC,OAAsB,OAAfN,EAAIO,QAAiBC,MAAM,CAAC,KAAO,eAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,QAAQ,KAAK,IAAI,CAACX,EAAIY,GAAG,QAAQZ,EAAIa,GAAG,KAAKX,EAAG,WAAW,CAACM,MAAM,CAAC,SAAWR,EAAIc,SAAS,gBAAgB,SAASL,GAAG,CAAC,KAAOT,EAAIe,QAAQC,MAAM,CAACC,MAAOjB,EAAIkB,QAASC,SAAS,SAAUC,GAAMpB,EAAIkB,QAAQE,CAAG,EAAEC,WAAW,YAAYrB,EAAIsB,GAAItB,EAAIuB,UAAU,SAASC,GAAM,OAAOtB,EAAG,cAAc,CAACuB,IAAID,EAAK/B,GAAGe,MAAM,CAAC,KAAOgB,IAAO,IAAG,IAAI,EAChwB,EACIE,EAAkB,CAAC,WAAY,IAAI1B,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACM,MAAM,CAAC,IAAMmB,EAAQ,MAAqB,IAAM,OAChK,G,mBC2BA,GACAC,KAAA,eAUAC,IAAAA,GACA,OACAN,SAAA,GACAL,SAAA,EACAJ,UAAA,EACAgB,QAAA,EACAvB,OAAA,cAEA,EACAwB,QAAA,CAMA,YAAAhB,GACAiB,QAAAC,IAAA,WACA,MAAAC,QAAA9C,EAAAA,EAAAA,IAAA,CACA0C,QAAA,KAAAA,UACAK,SAAA,GACA5B,OAAA,KAAAA,SAGA,KAAAgB,SAAAa,QAAAF,EAAAL,KAAAQ,MACA,KAAAnB,SAAA,EACA,KAAAY,QAAAI,EAAAL,KAAAS,YACA,KAAAxB,UAAA,EAEA,EACAH,OAAAA,CAAAJ,GAEA,KAAAA,OAAAA,EACA,KAAAuB,QAAA,EACA,KAAAP,SAAA,GAEA,KAAAL,SAAA,EACA,KAAAJ,UAAA,EACA,KAAAC,QACA,IC/EggB,I,UCQ5fwB,GAAY,OACd,EACAxC,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAea,EAAiB,O","sources":["webpack://hmmj-h5-90/./src/api/article.js","webpack://hmmj-h5-90/./src/views/Layout/Article.vue","webpack://hmmj-h5-90/src/views/Layout/Article.vue","webpack://hmmj-h5-90/./src/views/Layout/Article.vue?9744","webpack://hmmj-h5-90/./src/views/Layout/Article.vue?51ac"],"sourcesContent":["import request from '@/utils/request'\r\n\r\nexport const getArticles = params => request.get('/interview/query', { params })\r\n\r\nexport const getArticleDetail = id => request.get('/interview/show', { params: { id } })\r\n\r\nexport const updateLike = id => request.post('/interview/opt', {\r\n  id,\r\n  optType: 1\r\n})\r\n\r\nexport const updateCollect = id => request.post('/interview/opt', {\r\n  id,\r\n  optType: 2\r\n})\r\n\r\nexport const getArticlesCollectOrLike = params =>\r\n  request.get('/interview/opt/list',\r\n    { params })\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-page\"},[_c('nav',{staticClass:\"my-nav van-hairline--bottom\"},[_c('a',{class:{active:_vm.sorter === 'weight_desc'},attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){return _vm.hChange('weight_desc')}}},[_vm._v(\"推荐\")]),_c('a',{class:{active:_vm.sorter === null},attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){return _vm.hChange(null)}}},[_vm._v(\"最新\")]),_vm._m(0)]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.articles),function(item){return _c('ArticleItem',{key:item.id,attrs:{\"item\":item}})}),1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"article-page\">\n    <nav class=\"my-nav van-hairline--bottom\">\n      <a\n        :class=\"{active:sorter === 'weight_desc'}\"\n        @click=\"hChange('weight_desc')\"\n        href=\"javascript:\"\n      >推荐</a>\n      <a\n        :class=\"{active:sorter === null}\"\n        @click=\"hChange(null)\"\n        href=\"javascript:\"\n      >最新</a>\n      <div class=\"logo\"><img src=\"@/assets/logo.png\" alt=\"\"></div>\n    </nav>\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <ArticleItem v-for=\"item in articles\" :key=\"item.id\" :item=\"item\"></ArticleItem>\n    </van-list>\n  </div>\n</template>\n\n<script>\n\nimport { getArticles } from '@/api/article'\n\nexport default {\n  name: 'article-page',\n  // 因为在页面刚加载就在底部，所以不需要发请求\n  // async created () {\n  //   const res = await getArticles({\n  //     current: 1, // 当前页数\n  //     pageSize: 10, // 每页获取多少条数据\n  //     sorter: 'weight_desc'\n  //   })\n  //   this.articles = res.data.rows\n  // },\n  data () {\n    return {\n      articles: [],\n      loading: false, // 是否在加载中\n      finished: false, // 是否结束（没有下一页）\n      current: 1, // 当前页数\n      sorter: 'weight_desc' // 排序方式\n    }\n  },\n  methods: {\n    /**\n     * load 事件在页面滑动到底的时候自动触发\n     * 自动将 loading 改为 true\n     * 请求结束后，将 loading 手动改为 false\n     */\n    async onLoad () {\n      console.log('到底了加载数据')\n      const res = await getArticles({\n        current: this.current++, // 当前页数\n        pageSize: 10, // 每页获取多少条数据\n        sorter: this.sorter\n      })\n      // this.articles = res.data.rows\n      this.articles.push(...res.data.rows)\n      this.loading = false\n      if (this.current > res.data.pageTotal) {\n        this.finished = true\n      }\n    },\n    hChange (sorter) {\n      // 点击切换排序方式并重置数据\n      this.sorter = sorter\n      this.current = 1\n      this.articles = []\n      // 发送请求\n      this.loading = true\n      this.finished = false\n      this.onLoad()\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.article-page {\n  margin-bottom: 50px;\n  margin-top: 44px;\n\n  .my-nav {\n    height: 44px;\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    z-index: 999;\n    background: #fff;\n    display: flex;\n    align-items: center;\n\n    > a {\n      color: #999;\n      font-size: 14px;\n      line-height: 44px;\n      margin-left: 20px;\n      position: relative;\n      transition: all 0.3s;\n\n      &::after {\n        content: '';\n        position: absolute;\n        left: 50%;\n        transform: translateX(-50%);\n        bottom: 0;\n        width: 0;\n        height: 2px;\n        background: #222;\n        transition: all 0.3s;\n      }\n\n      &.active {\n        color: #222;\n\n        &::after {\n          width: 14px;\n        }\n      }\n    }\n\n    .logo {\n      flex: 1;\n      display: flex;\n      justify-content: flex-end;\n\n      > img {\n        width: 64px;\n        height: 28px;\n        display: block;\n        margin-right: 10px;\n      }\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.93.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.24.9_webpack@5.93.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.pnpm/thread-loader@3.0.4_webpack@5.93.0/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.pnpm/babel-loader@8.3.0_@babel+core@7.24.9_webpack@5.93.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=9097fb78&scoped=true\"\nimport script from \"./Article.vue?vue&type=script&lang=js\"\nexport * from \"./Article.vue?vue&type=script&lang=js\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=9097fb78&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.pnpm/vue-loader@15.11.1_@vue+compiler-sfc@3.4.33_css-loader@6.11.0_webpack@5.93.0__lodash@4.17.21__uyhl4iwm4ewirsvqhveifa5sk4/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9097fb78\",\n  null\n  \n)\n\nexport default component.exports"],"names":["getArticles","params","request","get","getArticleDetail","id","updateLike","post","optType","updateCollect","getArticlesCollectOrLike","render","_vm","this","_c","_self","staticClass","class","active","sorter","attrs","on","$event","hChange","_v","_m","finished","onLoad","model","value","loading","callback","$$v","expression","_l","articles","item","key","staticRenderFns","require","name","data","current","methods","console","log","res","pageSize","push","rows","pageTotal","component"],"sourceRoot":""}